{
	"name": "Createtables_claim_observ_patient",
	"properties": {
		"content": {
			"query": "IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name='fhir')\n\tEXEC('CREATE SCHEMA [fhir]')\n\nIF OBJECT_ID('fhir.ClaimDiagnosis') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[ClaimDiagnosis]\nEND\n\nCREATE TABLE [fhir].[ClaimDiagnosis]\n( \n\t[Claim_id] [nvarchar](64)  NULL,\n\t[diagnosis_reference] [nvarchar](64)  NULL,\n\t[diagnosis_sequence] [bigint]  NULL\n)\nWITH\n(\n\tDISTRIBUTION = HASH ( [Claim_id] ),\n\tCLUSTERED COLUMNSTORE INDEX\n)\n\nIF OBJECT_ID('fhir.ClaimInsurance') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[ClaimInsurance]\nEND\n\nCREATE TABLE [fhir].[ClaimInsurance]\n( \n\t[Claim_id] [nvarchar](64)  NULL,\n\t[insurance_coverage.display] [nvarchar](64)  NULL,\n\t[insurance_focal] [bit]  NULL,\n\t[insurance_sequence] [bigint]  NULL\n)\nWITH\n(\n\tDISTRIBUTION = HASH ( [Claim_id] ),\n\tCLUSTERED COLUMNSTORE INDEX\n)\n\nIF OBJECT_ID('fhir.ClaimProcedure') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[ClaimProcedure]\nEND\n\nCREATE TABLE [fhir].[ClaimProcedure]\n( \n\t[Claim_id] [nvarchar](64)  NULL,\n\t[procedure_reference] [nvarchar](64)  NULL,\n\t[procedure_sequence] [bigint]  NULL\n)\nWITH\n(\n\tDISTRIBUTION = HASH ( [Claim_id] ),\n\tCLUSTERED COLUMNSTORE INDEX\n)\n\n\n\n\nIF OBJECT_ID('fhir.ObservationMain') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[ObservationMain]\nEND\n\nCREATE TABLE [fhir].[ObservationMain]\n( \n\t[Observation_id] [varchar](64)  NULL,\n\t[resourceType] [varchar](100)  NULL,\n\t[issued] VARCHAR(30)  NULL,\n\t[status] [varchar](10)  NULL,\n\t[patient_id_reference] [varchar](64)  NULL,\n\t[encounter_id_reference] [varchar](64)  NULL,\n\t[effectiveDateTime] VARCHAR(30)  NULL,\n\t[valueQuantity_code] [varchar](50)  NULL,\n\t[valueQuantity_system] [varchar](100)  NULL,\n\t[valueQuantity_unit] [varchar](50)  NULL,\n\t[valueQuantity_value] [float]  NULL,\n\t[valueString] [nvarchar](200)  NULL\n)\nWITH\n(\n\tDISTRIBUTION = ROUND_ROBIN,\n\tHEAP\n)\n\n\n\n\n\n\nIF OBJECT_ID('fhir.PatientAddress') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[PatientAddress]\nEND\n\n\nCREATE TABLE [fhir].[PatientAddress]\n( \n\t[id] [nvarchar](64)  NULL,\n\t[address.city] [nvarchar](50)  NULL,\n\t[address.country] [nvarchar](50)  NULL,\n\t[address.extension.extension.url] [nvarchar](50)  NULL,\n\t[address.extension.extension.valueDecimal] [float]  NULL,\n\t[address.extension.url] [nvarchar](1000)  NULL,\n\t[address.postalCode] [nvarchar](50)  NULL,\n\t[address.state] [nvarchar](50)  NULL\n)\nWITH\n(\n\tDISTRIBUTION = ROUND_ROBIN,\n\tHEAP\n)\n\nIF OBJECT_ID('fhir.PatientIdentifier') IS NOT NULL\nBEGIN\n    DROP TABLE [fhir].[PatientIdentifier]\nEND\n\nCREATE TABLE [fhir].[PatientIdentifier]\n( \n\t[patient_id] [nvarchar](64)  NULL,\n\t[birthDate] [nvarchar](200)  NULL,\n\t[deceasedDateTime] [nvarchar](200)  NULL,\n\t[gender] [nvarchar](50)  NULL,\n\t[text] [nvarchar](1000)  NULL,\n\t[multipleBirthBoolean] [bit]  NULL,\n\t[multipleBirthInteger] [bigint]  NULL,\n\t[resourceType] [nvarchar](100)  NULL,\n\t[div] [nvarchar](max)  NULL,\n\t[status] [nvarchar](500)  NULL,\n\t[identifier.system] [nvarchar](2000)  NULL,\n\t[identifier.type.coding.code] [nvarchar](500)  NULL,\n\t[identifier.type.coding.display] [nvarchar](1000)  NULL,\n\t[identifier.type.coding.system] [nvarchar](1000)  NULL,\n\t[identifier.type.text] [nvarchar](1000)  NULL,\n\t[identifier.value] [nvarchar](640)  NULL\n)\nWITH\n(\n\tDISTRIBUTION = ROUND_ROBIN,\n\tHEAP\n)",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "synapseinsivg05",
				"poolName": "synapseinsivg05"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}